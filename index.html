<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Color Picker â†’ vec3/vec4 (Dark Mode + Stylish UI + Alpha)</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/monolith.min.css"/>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

#container {
    background: #1e1e1e;
    padding: 25px 40px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    text-align: center;
}

h1 { margin-bottom: 20px; font-weight: 500; letter-spacing: 1px; }

#preview {
    width: 120px;
    height: 120px;
    margin: 0 auto 15px auto;
    border-radius: 50%;
    border: 2px solid #444;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    position: relative;
    overflow: hidden;
}

/* Checkerboard pattern */
#checker {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: #fff;
    background-image: repeating-conic-gradient(#000 0% 25%, #fff 0% 50%);
}

#colorLayer {
    position: absolute;
    top:0; left:0;
    width:100%;
    height:100%;
    border-radius:50%;
    pointer-events:none;
}

#vecOutput {
    margin-top: 10px;
    font-size: 16px;
    background: #181818;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #333;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
}

button {
    margin: 5px;
    padding: 8px 14px;
    background-color: #2d2d2d;
    color: #f0f0f0;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
}
button:hover { background-color: #444; transform: scale(1.05); }
.active { background-color: #ff4444; color: #fff; }

#color-picker { display: flex; justify-content: center; margin-top: 15px; }

.pcr-button {
    width: 60px !important;
    height: 60px !important;
    border-radius: 50% !important;
    border: 2px solid #ff0000 !important;
    box-shadow: 0 0 10px rgba(255,0,0,0.5) !important;
    cursor: pointer;
}

#alphaSlider {
    width: 200px;
    margin-top: 10px;
    -webkit-appearance: none;
    appearance: none;
    background: #2d2d2d;
    height: 6px;
    border-radius: 3px;
    outline: none;
    box-sizing: border-box;
}
#alphaSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #ff4444;
    cursor: pointer;
    border: 2px solid #fff;
    margin-top: -6px;
}
#alphaSlider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #ff4444;
    cursor: pointer;
    border: 2px solid #fff;
}
</style>
</head>
<body>

<div id="container">
  <h1>ðŸŽ¨ Color Picker (vec3 / vec4)</h1>

  <div id="preview">
    <div id="checker"></div>
    <div id="colorLayer"></div>
  </div>

  <div id="color-picker"></div>

  <label>Alpha: <span id="alphaValue">1.00</span></label><br>
  <input type="range" id="alphaSlider" min="0" max="1" step="0.01" value="1">

  <div style="margin-top: 15px;">
    <button id="prec2">2 Decimals</button>
    <button id="prec4">4 Decimals</button>
  </div>

  <div style="margin-top: 20px; text-align: center;">
    <h2>Output</h2>
    <div style="margin-bottom: 10px;">
      <button id="showVec3" class="active">vec3</button>
      <button id="showVec4">vec4</button>
    </div>
    <div id="vecOutput">vec3: -, vec4: -</div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr"></script>
<script>
let precision = 2;
let currentMode = 'vec3';
const vecOutput = document.getElementById('vecOutput');
const prec2 = document.getElementById('prec2');
const prec4 = document.getElementById('prec4');
const colorLayer = document.getElementById('colorLayer');
const alphaSlider = document.getElementById('alphaSlider');
const alphaValueLabel = document.getElementById('alphaValue');
const showVec3 = document.getElementById('showVec3');
const showVec4 = document.getElementById('showVec4');

const pickr = Pickr.create({
    el: '#color-picker',
    theme: 'monolith',
    default: '#ff0000',
    components: {
        preview: true,
        hue: true,
        opacity: true,
        interaction: { hex: true, rgba: true, input: true }
    }
});

function updateOutput(rgba) {
    const alpha = parseFloat(alphaSlider.value);
    const r = (rgba[0]/255).toFixed(precision);
    const g = (rgba[1]/255).toFixed(precision);
    const b = (rgba[2]/255).toFixed(precision);
    const a = alpha.toFixed(precision);

    const vec3Text = `vec3: (${r}, ${g}, ${b})`;
    const vec4Text = `vec4: (${r}, ${g}, ${b}, ${a})`;
    vecOutput.textContent = currentMode === 'vec3' ? vec3Text : vec4Text;

    colorLayer.style.backgroundColor = `rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, ${alpha})`;
    alphaValueLabel.textContent = a;

    showVec3.classList.toggle('active', currentMode === 'vec3');
    showVec4.classList.toggle('active', currentMode === 'vec4');
}

pickr.on('change', (color) => { updateOutput(color.toRGBA()); });
alphaSlider.addEventListener('input', () => { updateOutput(pickr.getColor().toRGBA()); });
prec2.addEventListener('click', () => { precision = 2; updateOutput(pickr.getColor().toRGBA()); });
prec4.addEventListener('click', () => { precision = 4; updateOutput(pickr.getColor().toRGBA()); });
showVec3.addEventListener('click', () => { currentMode='vec3'; updateOutput(pickr.getColor().toRGBA()); });
showVec4.addEventListener('click', () => { currentMode='vec4'; updateOutput(pickr.getColor().toRGBA()); });

updateOutput(pickr.getColor().toRGBA());
</script>

</body>
</html>

